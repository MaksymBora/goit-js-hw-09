<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Homework 9</title>
    <link rel="stylesheet" href="css/common.css" />
  </head>
  <body>
    <!-- <ul class="menu-list">
      <li>
        <a class="menu-link" href="01-color-switcher.html">Color switcher</a>
      </li>
      <li><a class="menu-link" href="02-timer.html">Countdown timer</a></li>
      <li>
        <a class="menu-link" href="03-promises.html">Promise generator</a>
      </li>
    </ul> -->

    <div class="logo" style="background-image: url(/src/img/logo.svg)"></div>

    <section class="layers">
      <div class="layers__container">
        <div
          class="layers__item layer-1"
          style="background-image: url(img/layer-1.jpg)"
        ></div>
        <div
          class="layers__item layer-2"
          style="background-image: url(img/layer-2.png)"
        ></div>
        <div class="layers__item layer-3">
          <div class="hero-content">
            <h1>WELCOME<span> to FOREST-CODE</span></h1>
            <div class="hero-content__p">goit-js-hw-09</div>
            <a class="button-start" href="01-color-switcher.html"
              >Color switcher</a
            >
            <a class="button-start" href="02-timer.html">Countdown timer</a>
            <a class="button-start" href="03-promises.html"
              >Promise generator</a
            >
            <!-- <button class="button-start">Start Learning</button> -->
          </div>
        </div>
        <div class="layers__item layer-4">
          <canvas class="rain"></canvas>
        </div>
        <div
          class="layers__item layer-5"
          style="background-image: url(img/layer-5.png)"
        ></div>
        <div
          class="layers__item layer-6"
          style="background-image: url(img/layer-6.png)"
        ></div>
      </div>
    </section>

    <!-- add sound of rain -->
    <audio id="rain-sound" style="display: none" loop>
      <source src="/src/sound/rain.mp3" type="audio/mpeg" />
    </audio>

    <!-- <script>
      const audio = document.getElementById('rain-sound');
      audio.volume = 0.2;

      audio.autoplay = true;

      window.addEventListener('click', () => {
        audio.play();
      });
    </script> -->
    <script>
      const audio = document.getElementById('rain-sound');
      audio.volume = 0.2;

      // Воспроизведение аудио после полной загрузки страницы
      window.addEventListener('load', () => {
        // Проверка браузера и применение различных подходов в зависимости от него
        const userAgent = navigator.userAgent.toLowerCase();

        // Если используется Google Chrome
        if (userAgent.includes('chrome')) {
          audio.play().catch(error => {
            // В Chrome требуется пользовательское взаимодействие для разрешения автозапуска
            console.log(
              'Автозапуск звука заблокирован. Разрешите автозапуск звука после пользовательского взаимодействия.'
            );
          });
        }
        // Добавьте другие условия для других браузеров, применяя соответствующие политики автозапуска
        // Например, для Safari или Firefox, можно использовать audio.autoplay = true;
        else if (
          userAgent.includes('safari') ||
          userAgent.includes('firefox')
        ) {
          audio.autoplay = true;
        }
        // Добавьте другие условия для других браузеров
      });
    </script>
    <script src="/src/js/animation.js" type="module"></script>
    <script src="/src/js/rain.js" type="module"></script>
  </body>
</html>
